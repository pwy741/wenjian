{
    "notice": "所有规则已迁移至个人分类仓库，有问题可联系我，QQ：491978656",
    "picUrl":"",
    "data": [
{
    "title":"香雅情的仓库",
    "author":"香雅情",
    "version"5",
    "updateText":"随Reborn大佬的模板更新而更新。",
    "tips":"我的个人分类仓库，所有规则都在这。",
    "rule":"rule://5rW36ZiU6KeG55WM6KeE5YiZ5YiG5Lqr77yM5b2T5YmN5YiG5Lqr55qE5piv77ya6aaW6aG16aKR6YGT77yM6aaZ4piG6ZuF4piG5oOF77+laG9tZV9ydWxl77+leyJmaXJzdEhlYWRlciI6ImNsYXNzIiwidGl0bGUiOiLpppnpm4Xmg4XnmoTku5PlupMiLCJhdXRob3IiOiLpppnpm4Xmg4UiLCJ1cmwiOiJoaWtlcjovL2hvbWUjZnlBbGwiLCJ2ZXJzaW9uIjo1LCJjb2xfdHlwZSI6InRleHRfMSIsImNsYXNzX25hbWUiOiLlhY3ll4Um5ZeF5o6iJui1hOa6kOe9kSbop4blkKwm5YW25a6DIiwiY2xhc3NfdXJsIjoi6aaZ6ZuF5oOFQEBhcGlUeXBlPScwJ0BAZnVsbFVybD0naHR0cHM6Ly9naXRlZS5jb20vbHprMjM1NTkvcnVsZWhvdXNlL3Jhdy9tYXN0ZXIvbWlhbnh0Lmpzb24nXG4m6aaZ6ZuF5oOFQEBhcGlUeXBlPScwJ0BAZnVsbFVybD0naHR0cHM6Ly9naXRlZS5jb20vbHprMjM1NTkvcnVsZWhvdXNlL3Jhdy9tYXN0ZXIvbm9taWFueHQuanNvbidcbibpppnpm4Xmg4VAQGFwaVR5cGU9JzAnQEBmdWxsVXJsPSdodHRwczovL2dpdGVlLmNvbS9semsyMzU1OS9ydWxlaG91c2UvcmF3L21hc3Rlci96eXcuanNvbidcbibpppnpm4Xmg4VAQGFwaVR5cGU9JzAnQEBmdWxsVXJsPSdodHRwczovL2dpdGVlLmNvbS9semsyMzU1OS9ydWxlaG91c2UvcmF3L21hc3Rlci9zaGl0aW5nLmpzb24nXG4m6aaZ6ZuF5oOFQEBhcGlUeXBlPScwJ0BAZnVsbFVybD0naHR0cHM6Ly9naXRlZS5jb20vbHprMjM1NTkvcnVsZWhvdXNlL3Jhdy9tYXN0ZXIvb3RoZXIuanNvbiciLCJhcmVhX25hbWUiOiIiLCJhcmVhX3VybCI6IiIsInllYXJfbmFtZSI6IiIsInllYXJfdXJsIjoiIiwiZmluZF9ydWxlIjoianM6XG52YXIgcmVzID0ge307XG52YXIgZCA9IFtdO1xudmFyIG1SdWxlID0gSlNPTi5wYXJzZShnZXRSdWxlKCkpO1xuXG52YXIgc2V0dGluZ3MgPSB7XG4gICAgLy8g5Y6L57yp5paH5pys5byA5YWz77yM5Y2z6KeE5YiZIOaPkOekui/mm7TmlrDml6Xlv5cg5LiN56m66KGM77yM5Lul5ZCO5Y+v6IO96L+Y5pyJ5YW25LuWXG4gICAgY29tcHJlc3NUZXh0OiBmYWxzZSxcbiAgICAvLyDorr7nva4gdHJ1ZSDkuIDplK7lh4DljJbvvIzpmaTkuobop4TliJnlkozku5PlupPpgJrnn6XvvIzllaXkuZ/kuI3opoFcbiAgICBoaWRlQWxsOiBmYWxzZSxcbiAgICAvLyDop4TliJnmlbDph4/mmL7npLrlvIDlhbPvvIzkuI3pnIDopoHmmL7npLror7forr7nva7kuLp0cnVlXG4gICAgbm9SdWxlc051bTogZmFsc2UsXG4gICAgLy8g5piv5ZCm5YWB6K646LaF6L+H5LiA5a6a6KeE5YiZ5pWw5ZCO5pS55Y+Y5pi+56S65qC35byP77yM6buY6K6k5LiN5byA5ZCv77yM6KaB5byA5aeL6K+36K6+572u5Li6IHRydWVcbiAgICBuZWVkQ2hhbmdlU2hvd1R5cGU6IGZhbHNlLFxuICAgIC8vIOiuvue9ruacgOWkp+aYvuekuuWujOaVtOaWh+acrOeahOinhOWImeaVsO+8jOWkp+S6juiuvue9ruWAvOWImeaYvuekuuS4uuaMiemSruagt+W8jyjpu5jorqQgdGV4dF8yKVxuICAgIHNob3dGdWxsVGV4dE1heDogMTAsXG4gICAgLy8g6K6+572u6LaF6L+H5YWB6K645pi+56S65a6M5pW05paH5pys55qE6KeE5YiZ5pWw5ZCO5pi+56S655qE5qC35byPXG4gICAgb3Zlck1heFNob3dUeXBlOiBcInRleHRfMlwiLFxuICAgIC8qKlxuICAgICAqIOinhOWImeaYoOWwhOWIl+ihqFxuICAgICAqIOW3puacrOWcsO+8jOWPs+i/nOerr++8jOacrOWcsOaYoOWwhOS4uui/nOerr++8jOi+vuWIsOabv+aNouWGheWuueeahOebrueahFxuICAgICAqIOmcgOimgeWFqOWQjeWMuemFjemcgOimgeWcqOaYoOWwhOihqOS4reWKoOWFpXsgXCJtYXRjaEFsbFwiOiB0cnVlIH1cbiAgICAgKiDvvIjms6jmhI/vvIznqIvluo/pgLvovpHkuLrlhYjmmKDlsITlkI7miafooYzkuIvpnaLnmoTliKDpmaTmoIforrDvvIlcbiAgICAgKi9cbiAgICBydWxlc01hcHBpbmc6IFtcbiAgICAgICAgLy8gW3tcInRpdGxlXCI6IFwi5Zeo5ZOG5ZKqXCIsIFwiYXV0aG9yXCI6IFwi5Y+R57Kq5raC5aKZXCJ9LCB7XCJ0aXRsZVwiOiBcIuWXqOWTmuWSquW9seinhlwiLCBcImF1dGhvclwiOiBcIuWPkeeyqua2guWimVwifSwge1wibWF0Y2hBbGxcIjogdHJ1ZX1dLFxuICAgICAgICAvLyBbe1widGl0bGVcIjogXCLpooTlkYrniYdcIiwgXCJhdXRob3JcIjogXCJSZWJvcm5cIn0sIHtcInRpdGxlXCI6IFwi6aKE5ZGK54mHKD894oCiUmUpXCIsIFwiYXV0aG9yXCI6IFwiUmVib3JuXCJ9XSxcbiAgICAgICAgLy8gW3tcInRpdGxlXCI6IFwi6aKE5ZGK54mH4oCiVFwiLCBcImF1dGhvclwiOiBcIlJlYm9yblwifSwge1widGl0bGVcIjogXCLpooTlkYrniYfigKJSZVwiLCBcImF1dGhvclwiOiBcIlJlYm9yblwifSwge1wibWF0Y2hBbGxcIjogdHJ1ZX1dLFxuICAgICAgICAvLyBbe1widGl0bGVcIjogXCIuKj8oPz3igKJUKVwiLCBcImF1dGhvclwiOiBcIlJlYm9yblwifSwge1widGl0bGVcIjogXCIuKj8oPz3igKJSZSlcIiwgXCJhdXRob3JcIjogXCJSZWJvcm5cIn1dLFxuICAgICAgICAvLyBbe1widGl0bGVcIjogXCIuKj8oPz3igKJCKVwiLCBcImF1dGhvclwiOiBcIlJlYm9yblwifSwge1widGl0bGVcIjogXCIuKj8oPz3igKJSZSlcIiwgXCJhdXRob3JcIjogXCJSZWJvcm5cIn1dXG4gICAgXSxcbiAgICAvLyDkupHnq6/op4TliJnmmKDlsITliJfooajpk77mjqXvvIzmoLzlvI/mmK9KU09O5pWw57uE77yM6K+36Ieq5bex6K6+572uXG4gICAgcmVtb3RlUnVsZXNNYXBwaW5nVXJsOiBcIlwiLFxuXG4gICAgLy8g5YWl5oiP5byA5YWz77yf77yI5ruR56i977yJLy8g5Yig6Zmk5byA5YWz77yM5LiN6ZyA6KaB5Yig6Zmk6K+36K6+572u5Li6ZmFsc2VcbiAgICBuZWVkRGVsU3ltYm9sOiB0cnVlLFxuICAgIC8vIOiHquihjOa3u+WKoOimgeiiq+WIoOaOieeahOagh+iusFxuICAgIHN5bWJvbHM6IFtcIuagh+iusDFcIiwgXCLmoIforrAyXCJdLFxuXG4gICAgLy8g6ZqQ6JeP5byA5YWz77yM5LiN6ZyA6KaB6ZqQ6JeP6K+36K6+572u5Li6ZmFsc2VcbiAgICBuZWVkSGlkZVJ1bGU6IHRydWUsXG4gICAgLy8g6Ieq6KGM5re75Yqg6KaB6ZqQ6JeP55qE5qCH6K6w77yM5qC85byP5Li677yaW+agh+iusOWQjV1cbiAgICBoaWRlU3ltYm9sczogW1wiW+aooeadv11cIiwgXCJb5pyq5a6M5oiQXVwiXSxcblxuICAgIC8vIOiLpemcgOimgeWFs+mXreW/veeVpeacrOasoeabtOaWsOivt+iuvue9ruS4unRydWVcbiAgICBub0lnbm9yZVVwZGF0ZTogZmFsc2UsXG4gICAgLy8g5pys5Zyw5b+955Wl5pu05paw5YiX6KGo77yMXG4gICAgLy8g5YaF5a655qih5p2/5Li6IHt0aXRsZTogXCLop4TliJnlkI1cIiwgYXV0aG9yOiBcIuinhOWImeS9nOiAhVwifVxuICAgIGlnbm9yZVVwZGF0ZVJ1bGVMaXN0OiBbXG4gICAgICAgIC8vIHt0aXRsZTogXCLpooTlkYrniYfigKJSZVwiLCBhdXRob3I6IFwiUmVib3JuXCJ9LFxuICAgIF0sXG4gICAgLy8g5LqR56uv5b+955Wl5pu05paw5YiX6KGo77yM5qC85byP5pivSlNPTuaVsOe7hO+8jOivt+iHquW3seiuvue9rlxuICAgIHJlbW90ZUlnbm9yZUxpc3RVcmw6IFwiXCIsXG4gICAgLy8g5Y+C6ICD6ZO+5o6l77yaXG4gICAgLy8gaHR0cHM6Ly9naXRlZS5jb20vUmVib3JuXzAvSGlrZXJSdWxlc0RlcG90L3Jhdy9tYXN0ZXIvaWdub3JlVXBkYXRlUnVsZUxpc3QuanNvblxuICAgIC8vIGh0dHBzOi8vZ2l0ZWUuY29tL3FpdXN1bnNoaW5lMjMzL2hpa2VyVmlldy9yYXcvbWFzdGVyL3J1bGV2ZXJzaW9uL1JlYm9ybi9pZ25vcmVVcGRhdGVSdWxlTGlzdC5qc29uXG5cbiAgICAvLyDkuLrmiYDmnInliIbnsbvmt7vliqDor6XliIbnsbvku5PlupPmm7TmlrDlip/og71cbiAgICAvLyDpnIDopoHlg4/mgLvku5PlupPkuIDmoLfljZXni6znlKjkuIDkuKpqc29u566h55CG77yM6Ieq6KGM5aGr5YWl5Zyw5Z2AXG4gICAgcmVtb3RlRGVwb3RSdWxlVXJsOiBcIlwiLFxuICAgIC8vIOiLpeS4jemcgOimgeabtOaWsOWImeWFs+mXrVxuICAgIHNob3dVcGRhdGVFcnJvclRpcHM6IGZhbHNlLFxufTtcblxuLy8g5LuT5bqT54q25oCB57yT5a2Y5paH5Lu25Zyw5Z2AXG52YXIgc3RhdHVzQ2FjaGVGaWxlID0gXCJoaWtlcjovL2ZpbGVzL1wiICsgbVJ1bGUudGl0bGUgKyBcIl9cIiArIG1SdWxlLmF1dGhvciArIFwiLmpzb25cIjtcbi8vIOS4vuS+iyBoaWtlcjovL2ZpbGVzL2RlcG90U3RhdHVzLmpzb25cblxudmFyIHJlbW90ZUlnbm9yZUxpc3QgPSBbXTtcbnRyeSB7XG4gICAgZXZhbChcInJlbW90ZUlnbm9yZUxpc3Q9XCIgKyBmZXRjaChzZXR0aW5ncy5yZW1vdGVJZ25vcmVMaXN0VXJsLCB7fSkpO1xufSBjYXRjaCAoZSkge1xufVxuQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoc2V0dGluZ3MuaWdub3JlVXBkYXRlUnVsZUxpc3QsIHJlbW90ZUlnbm9yZUxpc3QpO1xuLy8gc2V0RXJyb3IoSlNPTi5zdHJpbmdpZnkoaWdub3JlVXBkYXRlUnVsZUxpc3QpKTtcblxudmFyIHJlbW90ZVJ1bGVzTWFwcGluZyA9IFtdO1xudHJ5IHtcbiAgICBldmFsKFwicmVtb3RlUnVsZXNNYXBwaW5nPVwiICsgZmV0Y2goc2V0dGluZ3MucmVtb3RlUnVsZXNNYXBwaW5nVXJsLCB7fSkpO1xufSBjYXRjaCAoZSkge1xufVxuQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoc2V0dGluZ3MucnVsZXNNYXBwaW5nLCByZW1vdGVSdWxlc01hcHBpbmcpO1xuLy8gc2V0RXJyb3IoSlNPTi5zdHJpbmdpZnkocnVsZXNNYXBwaW5nKSk7XG5cbi8qKlxuICog5Y+v5Zyo5q2k5aSE6Ieq5a6a5LmJ5LuT5bqT77yM5a6e546w56eB5Lq65LuT5bqTXG4gKlxuICog5LulUmVib3Ju5LuT5bqT55qE6ZO+5o6l5Li65Y+C6ICDXG4gKlxuICogaHR0cHM6Ly9naXRlZS5jb20vUmVib3JuXzAvSGlrZXJSdWxlc0RlcG90L2Jsb2IvbWFzdGVyL3VwZGF0ZS5qc29uXG4gKi9cbnZhciBhdXRob3JMaXN0ID0gZ2V0VXJsKCkuc3BsaXQoXCIjXCIpWzFdO1xudmFyIGF1dGhvckFuZE93bmVyQW5kUHJvamVjdCA9IGF1dGhvckxpc3Quc3BsaXQoXCJAQFwiKTtcbnZhciBhdXRob3IgPSBhdXRob3JBbmRPd25lckFuZFByb2plY3RbMF07XG52YXIgcmVtb3RlVXJsID0gXCJcIjtcblxudmFyIGFwaVR5cGUgPSBcIjFcIjsgIC8vIDAg5Li65paH5Lu255u06ZO+77yMMSDkuLrnoIHkupFBUElcbnZhciBhcGlUeXBlSlMgPSBhdXRob3JMaXN0Lm1hdGNoKC9hcGlUeXBlPS5bXFxzXFxTXSo/Jy8pICsgXCI7XCI7XG5ldmFsKGFwaVR5cGVKUyk7XG5pZiAoYXBpVHlwZSA9PSBudWxsKSBhcGlUeXBlID0gXCIxXCI7XG5cbmlmIChhcGlUeXBlID09IFwiMFwiKSB7XG4gICAgdmFyIGZ1bGxVcmwgPSBcIlwiO1xuICAgIHZhciBmdWxsVXJsSlMgPSBhdXRob3JMaXN0Lm1hdGNoKC9mdWxsVXJsPS5bXFxzXFxTXSo/Jy8pICsgXCI7XCI7XG4gICAgZXZhbChmdWxsVXJsSlMpO1xuICAgIHJlbW90ZVVybCA9IGZ1bGxVcmw7XG59IGVsc2UgaWYgKGFwaVR5cGUgPT0gXCIxXCIpIHtcbiAgICB2YXIgcmVtb3RlQXBpSG9tZSA9IFwiaHR0cHM6Ly9naXRlZS5jb20vYXBpL3Y1L3JlcG9zL1wiO1xuICAgIHZhciBvd25lciA9IGF1dGhvckFuZE93bmVyQW5kUHJvamVjdFsxXTsgICAvLyDku5PlupPmi6XmnInogIVcbiAgICB2YXIgcmVwbyA9IGF1dGhvckFuZE93bmVyQW5kUHJvamVjdFsyXTsgLy8g5LuT5bqT5ZCNXG4gICAgdmFyIHJlbW90ZUZpbGVuYW1lID0gbnVsbDsgLy8g5paH5Lu25ZCNXG4gICAgdmFyIHBhdGggPSByZW1vdGVGaWxlbmFtZTsgIC8vIOWcqOS7k+W6k+S4reaWh+S7tueahOi3r+W+hFxuICAgIHZhciBhY2Nlc3NfdG9rZW4gPSBudWxsOyAgLy8g55So5oi35o6I5p2D56CB77yM5Zyo56CB5LqRXCLorr7nva7igJQ+5a6J5YWo6K6+5a6aLT7kuKrkurrorr/pl67ku6TniYxcIuS4reWPr+S7peeUn+aIkFxuICAgIHZhciB0b2tlbkpTID0gYXV0aG9yTGlzdC5tYXRjaCgvYWNjZXNzX3Rva2VuPS5bXFxzXFxTXSo/Jy8pICsgXCI7XCI7XG4gICAgZXZhbCh0b2tlbkpTKTtcbiAgICAvLyBzZXRFcnJvcihhY2Nlc3NfdG9rZW49PW51bGwpO1xuICAgIHZhciByZW1vdGVGaWxlbmFtZUpTID0gYXV0aG9yTGlzdC5tYXRjaCgvcmVtb3RlRmlsZW5hbWU9LltcXHNcXFNdKj8nLykgKyBcIjtcIjtcbiAgICBldmFsKHJlbW90ZUZpbGVuYW1lSlMpO1xuICAgIGlmIChyZW1vdGVGaWxlbmFtZSA9PSBudWxsKSB7XG4gICAgICAgIHJlbW90ZUZpbGVuYW1lID0gXCJ1cGRhdGUuanNvblwiO1xuICAgIH1cbiAgICBwYXRoID0gcmVtb3RlRmlsZW5hbWU7XG4gICAgLy8gc2V0RXJyb3IocmVtb3RlRmlsZW5hbWUpXG4gICAgLy8gQVBJ6ZO+5o6l5Y+C6ICD77yaaHR0cHM6Ly9naXRlZS5jb20vYXBpL3Y1L3JlcG9zL3t7b3duZXJ9fS97e3JlcG99fS9jb250ZW50cy97e3BhdGh9fT9hY2Nlc3NfdG9rZW49KioqKlxuICAgIHJlbW90ZVVybCA9IHJlbW90ZUFwaUhvbWUgKyBvd25lciArIFwiL1wiICsgcmVwbyArIFwiL2NvbnRlbnRzL1wiICsgcGF0aDtcbiAgICBpZiAoYWNjZXNzX3Rva2VuICE9IG51bGwpIHtcbiAgICAgICAgcmVtb3RlVXJsID0gcmVtb3RlVXJsICsgXCI/YWNjZXNzX3Rva2VuPVwiICsgYWNjZXNzX3Rva2VuO1xuICAgIH1cbiAgICAvLyBzZXRFcnJvcihyZW1vdGVVcmwpO1xuICAgIC8vIHZhciByZW1vdGVIb21lID0gXCJodHRwczovL2dpdGVlLmNvbS9cIiArIG93bmVyICsgXCIvXCIgKyByZXBvICsgXCIvYmxvYi9tYXN0ZXIvdXBkYXRlLmpzb25cIjtcbn1cblxuLy8g5oqK5oC75LuT5bqT54q25oCB5YaZ5YWl5paH5Lu2XG5mdW5jdGlvbiB3cml0ZURlcG90U3RhdHVzVG9GaWxlKGRlcG90U3RhdHVzKSB7XG4gICAgd3JpdGVGaWxlKHN0YXR1c0NhY2hlRmlsZSwgSlNPTi5zdHJpbmdpZnkoZGVwb3RTdGF0dXMpKTtcbn1cblxuLy8g6Iul5LiN5piv56ys5LiA5qyh5L2/55So5oC75LuT5bqT5YiZ6ZqQ6JeP5byA5Y+R5paH5qGjXG52YXIgZGVwb3RTdGF0dXMgPSB7fTtcbnZhciBkZXBvdFN0YXR1c0ZpbGUgPSBmZXRjaChzdGF0dXNDYWNoZUZpbGUsIHt9KTtcbmlmIChkZXBvdFN0YXR1c0ZpbGUgIT0gXCJcIikge1xuICAgIGV2YWwoXCJkZXBvdFN0YXR1cz1cIiArIGRlcG90U3RhdHVzRmlsZSk7XG59XG5cbnZhciBkZXBvdFJ1bGVzU3RhdHVzID0ge1xuICAgIHVwZGF0ZU51bTogMCxcbiAgICBub0ltcG9ydE51bTogMCxcbiAgICBpZ25vcmVOdW06IDAsXG4gICAgdW5rbm93blR5cGVOdW06IDBcbn07XG5cbnZhciBlbnRlclRleHQgPSBcIlxcblxcblwiO1xuaWYgKHNldHRpbmdzLmNvbXByZXNzVGV4dCA9PSB0cnVlKSBlbnRlclRleHQgPSBcIlxcblwiO1xuXG5mdW5jdGlvbiBnZXRSdWxlTm9TeW1ib2xzKHJ1bGUsIHN5bWJvbExpc3QpIHtcbiAgICBpZiAoc2V0dGluZ3MubmVlZERlbFN5bWJvbCAhPSB0cnVlKSByZXR1cm4gcnVsZTtcbiAgICB2YXIgcnVsZVRlbXAgPSBydWxlO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9sTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc3ltYm9sUmVnID0gbmV3IFJlZ0V4cChzeW1ib2xMaXN0W2ldLCBcImdcIik7XG4gICAgICAgIHJ1bGVUZW1wLnRpdGxlID0gcnVsZVRlbXAudGl0bGUucmVwbGFjZShzeW1ib2xSZWcsIFwiXCIpO1xuICAgIH1cbi8vc2V0RXJyb3IoSlNPTi5zdHJpbmdpZnkocnVsZVRlbXApKTtcbiAgICByZXR1cm4gcnVsZVRlbXA7XG59XG5cbmZ1bmN0aW9uIGlzSGlkZVJ1bGUocnVsZSkge1xuICAgIGlmIChzZXR0aW5ncy5uZWVkSGlkZVJ1bGUgIT0gdHJ1ZSkgcmV0dXJuIGZhbHNlO1xuICAgIC8vIGlmIChoaWRlU3ltYm9scy5sZW5ndGggPT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgIHZhciBydWxlVGVtcCA9IHJ1bGU7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXR0aW5ncy5oaWRlU3ltYm9scy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAocnVsZVRlbXAudGl0bGUuaW5kZXhPZihzZXR0aW5ncy5oaWRlU3ltYm9sc1tpXSkgIT0gLTEpIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGdldFJ1bGVJbkFycmF5KHJ1bGVzLCBydWxlKSB7XG4gICAgaWYgKHJ1bGVzID09IG51bGwgfHwgcnVsZXMubGVuZ3RoID09IDApIHJldHVybiBudWxsO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcnVsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHJ1bGVzW2ldLnRpdGxlID09IHJ1bGUudGl0bGUgJiYgcnVsZXNbaV0uYXV0aG9yID09IGF1dGhvcikgcmV0dXJuIHJ1bGVzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gaXNJZ25vcmVVcGRhdGVSdWxlKHJ1bGUpIHtcbiAgICBpZiAoaXNJbkFycmF5KHNldHRpbmdzLmlnbm9yZVVwZGF0ZVJ1bGVMaXN0LCBydWxlKSA9PSB0cnVlKSB7XG4gICAgICAgIHZhciBjYWNoZUlnbm9yZVJ1bGUgPSBnZXRSdWxlSW5BcnJheShkZXBvdFN0YXR1cy5pZ25vcmVVcGRhdGVSdWxlTGlzdCwgcnVsZSk7XG4gICAgICAgIGlmIChjYWNoZUlnbm9yZVJ1bGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGRlcG90U3RhdHVzLmlnbm9yZVVwZGF0ZVJ1bGVMaXN0ID09IG51bGwpIGRlcG90U3RhdHVzLmlnbm9yZVVwZGF0ZVJ1bGVMaXN0ID0gW107XG4gICAgICAgICAgICBjYWNoZUlnbm9yZVJ1bGUgPSB7XG4gICAgICAgICAgICAgICAgdGl0bGU6IHJ1bGUudGl0bGUsXG4gICAgICAgICAgICAgICAgYXV0aG9yOiBhdXRob3IsXG4gICAgICAgICAgICAgICAgdmVyc2lvbjogcnVsZS52ZXJzaW9uXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZGVwb3RTdGF0dXMuaWdub3JlVXBkYXRlUnVsZUxpc3QucHVzaChjYWNoZUlnbm9yZVJ1bGUpO1xuICAgICAgICAgICAgd3JpdGVEZXBvdFN0YXR1c1RvRmlsZShkZXBvdFN0YXR1cylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChydWxlLnZlcnNpb24gIT0gY2FjaGVJZ25vcmVSdWxlLnZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICBjYWNoZUlnbm9yZVJ1bGUudmVyc2lvbiA9IHJ1bGUudmVyc2lvbjtcbiAgICAgICAgICAgICAgICB3cml0ZURlcG90U3RhdHVzVG9GaWxlKGRlcG90U3RhdHVzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gc2V0SWdub3JlVXBkYXRlUnVsZShydWxlKSB7XG4gICAgaWYgKGlzSWdub3JlVXBkYXRlUnVsZShydWxlKSA9PSB0cnVlKSBydWxlLmlzSWdub3JlVXBkYXRlID0gdHJ1ZTtcbn1cblxudmFyIHJ1bGVzID0gW107XG5ldmFsKFwicnVsZXM9XCIgKyBnZXRSZXNDb2RlKCkpO1xudmFyIG15UnVsZXMgPSBbXTtcbmZvciAodmFyIGkgPSAwOyBpIDwgcnVsZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcnVsZSA9IHJ1bGVzW2ldO1xuICAgIGlmIChydWxlLmF1dGhvciA9PSBhdXRob3IpIHtcbiAgICAgICAgbXlSdWxlcy5wdXNoKGdldFJ1bGVOb1N5bWJvbHMocnVsZSwgc2V0dGluZ3Muc3ltYm9scykpO1xuICAgIH1cbn1cbi8vIHNldEVycm9yKEpTT04uc3RyaW5naWZ5KG15UnVsZXMpKTtcblxuLy8g5aaC5p6c5pys5Zyw5rKh5pyJ5YiZ5o+Q56S65a+85YWl5paw6KeE5YiZXG4vLyDlm6Dpg6jliIbmiYvmnLrkuI3mlK/mjIFlczbor63ms5XvvIzmlYXms6jph4rmjolcbi8qdmFyIG15UnVsZXNNYXAgPSBuZXcgTWFwKCk7XG5teVJ1bGVzLm1hcChydWxlPT57XG5teVJ1bGVzTWFwLnNldChydWxlLnRpdGxlLCB0cnVlKTtcbn0pO1xuLy9zZXRFcnJvcihteVJ1bGVzTWFwLmdldChcIuiFvuiur+KAolJlXCIpKTsqL1xuXG4vLyDljp/lp4vmlrnms5XvvIzmr5TovoPogJfml7ZcbmZ1bmN0aW9uIGlzSW5BcnJheShydWxlcywgcnVsZSkge1xuICAgIGlmIChydWxlcy5sZW5ndGggPT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcnVsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHJ1bGVzW2ldLnRpdGxlID09IHJ1bGUudGl0bGUpIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGdldFJ1bGVJblJ1bGVzV2l0aE1hcHBpbmcocnVsZXMsIHJ1bGUpIHtcbiAgICBpZiAocnVsZXMgPT0gbnVsbCB8fCBydWxlcy5sZW5ndGggPT0gMCB8fCBydWxlID09IG51bGwgfHwgcnVsZS5tYXBwaW5nVGl0bGUgPT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBydWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAocnVsZXNbaV0ubWFwcGluZ1RpdGxlICE9IG51bGwgJiYgcnVsZXNbaV0ubWFwcGluZ1RpdGxlID09IHJ1bGUubWFwcGluZ1RpdGxlICYmIHJ1bGVzW2ldLmF1dGhvciA9PSBhdXRob3IpIHJldHVybiBydWxlc1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzSW5SdWxlc1dpdGhNYXBwaW5nKHJ1bGVzLCBydWxlKSB7XG4gICAgaWYgKGdldFJ1bGVJblJ1bGVzV2l0aE1hcHBpbmcocnVsZXMsIHJ1bGUpICE9IG51bGwpIHJldHVybiB0cnVlO1xuICAgIGVsc2UgcmV0dXJuIGZhbHNlO1xufVxuXG52YXIgZGVzYyA9IGZ1bmN0aW9uIChydWxlcywgcnVsZSkge1xuICAgIGlmIChydWxlICE9IG51bGwgJiYgcnVsZS52ZXJzaW9uIDwgMCkge1xuICAgICAgICBkZXBvdFJ1bGVzU3RhdHVzLnVua25vd25UeXBlTnVtICs9IDE7XG4gICAgICAgIHJldHVybiBcIuS7k+W6k+aXoOazleajgOa1i+ivpeinhOWImeexu+Wei++8jOivt+KAmOKAmOeci+inhOWImeabtOaWsOaXtumXtOKAmeKAmVwiO1xuICAgIH1cbiAgICBpZiAoaXNJblJ1bGVzV2l0aE1hcHBpbmcocnVsZXMsIHJ1bGUpID09IHRydWUgfHwgaXNJbkFycmF5KHJ1bGVzLCBydWxlKSA9PSB0cnVlKSB7XG4gICAgICAgIGlmIChydWxlLm9sZFZlcnNpb24gIT0gbnVsbCAmJiBydWxlLm9sZFZlcnNpb24gPCBydWxlLnZlcnNpb24pIHtcbiAgICAgICAgICAgIGRlcG90UnVsZXNTdGF0dXMudXBkYXRlTnVtICs9IDE7XG4gICAgICAgICAgICByZXR1cm4gKFwi4oCY4oCY5pyJ5paw54mI5pys77yaXCIgKyBydWxlLnZlcnNpb24gKyBcIuKAmeKAme+8jOeCueWHu+WvvOWFpeaWsOeJiOacrFwiKVxuICAgICAgICAgICAgICAgICsgKFxuICAgICAgICAgICAgICAgICAgICBlbnRlclRleHQgKyBcIlvmm7TmlrDml6Xlv5ddIFwiXG4gICAgICAgICAgICAgICAgICAgICsgKFxuICAgICAgICAgICAgICAgICAgICAgICAgcnVsZS51cGRhdGVUZXh0ID09IG51bGwgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwi5pegXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHJ1bGUudXBkYXRlVGV4dFxuICAgICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBydWxlLm9sZFZlcnNpb24gPiBydWxlLnZlcnNpb24gP1xuICAgICAgICAgICAgICAgIFwi4oCY4oCY5Za177yf5Li65ZWl5L2g55qE6KeE5YiZ54mI5pys5q+U5oiR6L+Y6auY77yf4oCZ4oCZXCJcbiAgICAgICAgICAgICAgICA6IFwi5b2T5YmN6KeE5YiZ5bey5piv5pyA5paw54mI77yM54K55Ye76Lez5Yiw6KeE5YiZ6aG1XCI7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBkZXBvdFJ1bGVzU3RhdHVzLm5vSW1wb3J0TnVtICs9IDE7XG4gICAgICAgIHJldHVybiBcIuKAmOKAmOS9oOWwmuacquWvvOWFpeivpeinhOWImeKAmeKAme+8jOeCueWHu+WvvOWFpVwiO1xuICAgIH1cbn07XG5cbnRyeSB7XG4gICAgdmFyIHJlbW90ZURlcG90UnVsZSA9IHt9O1xuICAgIGV2YWwoXCJyZW1vdGVEZXBvdFJ1bGU9XCIgKyBmZXRjaChzZXR0aW5ncy5yZW1vdGVEZXBvdFJ1bGVVcmwsIHt9KSk7XG4gICAgdmFyIGxvY2FsRGVwb3RSdWxlID0gSlNPTi5wYXJzZShnZXRSdWxlKCkpO1xuICAgIHJlbW90ZURlcG90UnVsZS5vbGRWZXJzaW9uID0gbG9jYWxEZXBvdFJ1bGUudmVyc2lvbjtcbi8vc2V0RXJyb3IoSlNPTi5zdHJpbmdpZnkobG9jYWxEZXBvdFJ1bGUpKTtcbi8vc2V0RXJyb3IoSlNPTi5zdHJpbmdpZnkocmVtb3RlRGVwb3RSdWxlKSk7XG4gICAgaWYgKHJlbW90ZURlcG90UnVsZS5vbGRWZXJzaW9uIDwgcmVtb3RlRGVwb3RSdWxlLnZlcnNpb24pIHtcbiAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgIHRpdGxlOiBcIuKAmOKAmOacieaWsOeJiOacrO+8mlwiICsgcmVtb3RlRGVwb3RSdWxlLnZlcnNpb24gKyBcIuKAmeKAme+8jOeCueWHu+WvvOWFpeaWsOeJiOacrFwiLFxuLy8gcmVtb3RlRGVwb3RSdWxlLnRpdGxlICsgXCJcXHRcIiArIGRlc2MocnVsZXMsIHJlbW90ZURlcG90UnVsZSksXG4gICAgICAgICAgICB1cmw6IHJlbW90ZURlcG90UnVsZS5ydWxlIHx8IFwiXCIsXG4gICAgICAgICAgICBjb2xfdHlwZTogXCJ0ZXh0X2NlbnRlcl8xXCIsXG4gICAgICAgICAgICAvL2NvbnRlbnQ6IHJlbW90ZURlcG90UnVsZS51cGRhdGVUZXh0LFxuICAgICAgICAgICAgZGVzYzogXCLjgJDmm7TmlrDml6Xlv5fjgJFcXG5cIiArIHJlbW90ZURlcG90UnVsZS51cGRhdGVUZXh0XG4gICAgICAgIH0pO1xuICAgIH1cbn0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoc2V0dGluZ3Muc2hvd1VwZGF0ZUVycm9yVGlwcyA9PSB0cnVlKVxuICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgdGl0bGU6IFwi4oCY4oCY5oC75LuT5bqT5pu05paw56iL5bqP5bey5o2f5Z2P4oCZ4oCZXCIsXG4gICAgICAgICAgICBkZXNjOiBcIuivt+iBlOezuyBcIiArIG1SdWxlLmF1dGhvciArIFwiIOS/ruWkjVwiLFxuICAgICAgICAgICAgY29sX3R5cGU6IFwidGV4dF9jZW50ZXJfMVwiLFxuICAgICAgICB9KTtcbn1cblxudmFyIHJlbW90ZVJ1bGVzID0gW107XG4vLyB2YXIgcmVtb3RlVXJsID0gcmVtb3RlQXBpSG9tZSArIGVuY29kZVVSSUNvbXBvbmVudChhdXRob3IpICsgXCIvXCIgKyByZW1vdGVGaWxlbmFtZTtcbnZhciByZW1vdGVTb3VyY2UgPSBmZXRjaChyZW1vdGVVcmwsIHt9KTtcbi8vIHNldEVycm9yKHJlbW90ZVVybCk7XG50cnkge1xuICAgIGV2YWwoXCJyZW1vdGVTb3VyY2U9XCIgKyByZW1vdGVTb3VyY2UpO1xuICAgIGlmIChhcGlUeXBlID09IFwiMFwiKSB7XG4gICAgICAgIHJlbW90ZVJ1bGVzID0gcmVtb3RlU291cmNlO1xuICAgIH0gZWxzZSBpZiAoYXBpVHlwZSA9PSBcIjFcIikge1xuICAgICAgICBldmFsKFwicmVtb3RlUnVsZXM9XCIgKyBiYXNlNjREZWNvZGUocmVtb3RlU291cmNlLmNvbnRlbnQpKTtcbiAgICB9XG4gICAgaWYgKHJlbW90ZVJ1bGVzLmRhdGEgIT0gbnVsbCkge1xuICAgICAgICB2YXIgbm90aWNlID0gcmVtb3RlUnVsZXMubm90aWNlO1xuICAgICAgICBpZiAobm90aWNlICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgKG5vdGljZSkgPT0gXCJzdHJpbmdcIiAmJiBub3RpY2UgIT0gXCJcIikge1xuICAgICAgICAgICAgICAgIGQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIuS7k+W6k+mAmuefpVwiLFxuICAgICAgICAgICAgICAgICAgICBkZXNjOiBub3RpY2UsXG4gICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiBcInBpY18xXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIChub3RpY2UpID09IFwib2JqZWN0XCIgJiYgbm90aWNlLmRlc2MgIT0gbnVsbCAmJiBub3RpY2UuZGVzYyAhPSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IG5vdGljZS50aXRsZSAhPSBudWxsICYmIG5vdGljZS50aXRsZSAhPSBcIlwiID8gbm90aWNlLnRpdGxlIDogXCLku5PlupPpgJrnn6VcIixcbiAgICAgICAgICAgICAgICAgICAgZGVzYzogbm90aWNlLmRlc2MsXG4gICAgICAgICAgICAgICAgICAgIHBpY191cmw6IG5vdGljZS5waWNVcmwsXG4vLyAhPSBudWxsICYmIG5vdGljZS5waWNVcmwgIT0gXCJcIiA/IG5vdGljZS5waWNVcmwgOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogXCJwaWNfMVwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVtb3RlUnVsZXMgPSByZW1vdGVSdWxlcy5kYXRhO1xuICAgIH1cbn0gY2F0Y2ggKGUpIHtcbn1cbi8vc2V0RXJyb3IocmVtb3RlUnVsZXMubGVuZ3RoKTtcbmlmIChyZW1vdGVSdWxlcy5sZW5ndGggPT0gMCkge1xuICAgIGQucHVzaCh7XG4gICAgICAgIHRpdGxlOiBcIuivpei/nOeoi+S7k+W6k+aXoOaVsOaNru+8gVwiLFxuICAgICAgICBjb2xfdHlwZTogXCJ0ZXh0X2NlbnRlcl8xXCJcbiAgICB9KTtcbiAgICBkLnB1c2goe1xuICAgICAgICB0aXRsZTogXCLor6Xov5znqIvku5PlupPml6DmlbDmja7vvIFcIixcbiAgICAgICAgY29sX3R5cGU6IFwidGV4dF9jZW50ZXJfMVwiXG4gICAgfSk7XG4gICAgZC5wdXNoKHtcbiAgICAgICAgdGl0bGU6IFwi6K+l6L+c56iL5LuT5bqT5peg5pWw5o2u77yBXCIsXG4gICAgICAgIGNvbF90eXBlOiBcInRleHRfY2VudGVyXzFcIlxuICAgIH0pO1xufSBlbHNlIHtcbiAgICAvL3NldEVycm9yKG15UnVsZXMubGVuZ3RoKTtcbiAgICBpZiAobXlSdWxlcy5sZW5ndGggPj0gcmVtb3RlUnVsZXMubGVuZ3RoKSB7XG4gICAgICAgIC8vIOS4jeefpemBk+S8muS4jeS8muaciemXrumimFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG15UnVsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcmVtb3RlUnVsZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgbG9jYWxSdWxlID0gbXlSdWxlc1tpXTtcbiAgICAgICAgICAgICAgICB2YXIgcmVtb3RlUnVsZSA9IHJlbW90ZVJ1bGVzW2pdO1xuICAgICAgICAgICAgICAgIGlmIChpc0hpZGVSdWxlKHJlbW90ZVJ1bGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZVJ1bGVzLnNwbGljZShqLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgai0tO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2V0SWdub3JlVXBkYXRlUnVsZShyZW1vdGVSdWxlKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IHNldHRpbmdzLnJ1bGVzTWFwcGluZy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiAoKGxvY2FsUnVsZS5tYXBwaW5nVGl0bGUgIT0gbnVsbCAmJiByZW1vdGVSdWxlLm1hcHBpbmdUaXRsZSAhPSBudWxsKSB8fCByZW1vdGVSdWxlLmlzTWFwcGVkID09IHRydWUpIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJ1bGVNYXBwaW5nID0gc2V0dGluZ3MucnVsZXNNYXBwaW5nW2tdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvY2FsUnVsZU1hcHBpbmdUaXRsZSA9IHJ1bGVNYXBwaW5nWzBdLnRpdGxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlbW90ZVJ1bGVNYXBwaW5nVGl0bGUgPSBydWxlTWFwcGluZ1sxXS50aXRsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWFqOWQjeaYoOWwhFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2FsUnVsZS50aXRsZSA9PSBsb2NhbFJ1bGVNYXBwaW5nVGl0bGUgJiYgcmVtb3RlUnVsZS50aXRsZSA9PSByZW1vdGVSdWxlTWFwcGluZ1RpdGxlICYmIHJ1bGVNYXBwaW5nWzJdLm1hdGNoQWxsID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFJ1bGUubWFwcGluZ1RpdGxlID0gcmVtb3RlUnVsZU1hcHBpbmdUaXRsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVSdWxlLm1hcHBpbmdUaXRsZSA9IHJlbW90ZVJ1bGVNYXBwaW5nVGl0bGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aXRsZVJlZ2V4ID0gbmV3IFJlZ0V4cChsb2NhbFJ1bGVNYXBwaW5nVGl0bGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsUnVsZS5tYXBwaW5nVGl0bGUgPSBsb2NhbFJ1bGUubWFwcGluZ1RpdGxlICE9IG51bGwgJiYgbG9jYWxSdWxlLm1hcHBpbmdUaXRsZSAhPSBcIlwiID8gbG9jYWxSdWxlLm1hcHBpbmdUaXRsZSA6IGxvY2FsUnVsZS50aXRsZS5tYXRjaCh0aXRsZVJlZ2V4KVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZVJlZ2V4ID0gbmV3IFJlZ0V4cChyZW1vdGVSdWxlTWFwcGluZ1RpdGxlLCBcImdcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3RlUnVsZS5tYXBwaW5nVGl0bGUgPSByZW1vdGVSdWxlLnRpdGxlLm1hdGNoKHRpdGxlUmVnZXgpWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2FsUnVsZS5tYXBwaW5nVGl0bGUgPT0gcmVtb3RlUnVsZS5tYXBwaW5nVGl0bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVSdWxlLmxvY2FsVGl0bGUgPSBsb2NhbFJ1bGUudGl0bGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3RlUnVsZS5pc01hcHBlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3RlUnVsZS5vbGRWZXJzaW9uID0gbG9jYWxSdWxlLnZlcnNpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobG9jYWxSdWxlLnRpdGxlID09IHJlbW90ZVJ1bGUudGl0bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlUnVsZS5vbGRWZXJzaW9uID0gbG9jYWxSdWxlLnZlcnNpb247XG4gICAgICAgICAgICAgICAgICAgIC8vcmVtb3RlUnVsZXNbal0ucnVsZT1teVJ1bGVzW2ldLnJ1bGU7XG4gICAgICAgICAgICAgICAgICAgIC8vcmVtb3RlUnVsZXNbal0uZGVzYz1teVJ1bGVzW2ldLmRlc2M7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZW1vdGVSdWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHJlbW90ZVJ1bGUgPSByZW1vdGVSdWxlc1tpXTtcbiAgICAgICAgICAgIGlmICgoaXNIaWRlUnVsZShyZW1vdGVSdWxlKSkpIHtcbiAgICAgICAgICAgICAgICByZW1vdGVSdWxlcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0SWdub3JlVXBkYXRlUnVsZShyZW1vdGVSdWxlKTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbXlSdWxlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHZhciBsb2NhbFJ1bGUgPSBteVJ1bGVzW2pdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgc2V0dGluZ3MucnVsZXNNYXBwaW5nLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmICgobG9jYWxSdWxlLm1hcHBpbmdUaXRsZSAhPSBudWxsICYmIHJlbW90ZVJ1bGUubWFwcGluZ1RpdGxlICE9IG51bGwpIHx8IHJlbW90ZVJ1bGUuaXNNYXBwZWQgPT0gdHJ1ZSkgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcnVsZU1hcHBpbmcgPSBzZXR0aW5ncy5ydWxlc01hcHBpbmdba107XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG9jYWxSdWxlTWFwcGluZ1RpdGxlID0gcnVsZU1hcHBpbmdbMF0udGl0bGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVtb3RlUnVsZU1hcHBpbmdUaXRsZSA9IHJ1bGVNYXBwaW5nWzFdLnRpdGxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5YWo5ZCN5pig5bCEXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobG9jYWxSdWxlLnRpdGxlID09IGxvY2FsUnVsZU1hcHBpbmdUaXRsZSAmJiByZW1vdGVSdWxlLnRpdGxlID09IHJlbW90ZVJ1bGVNYXBwaW5nVGl0bGUgJiYgcnVsZU1hcHBpbmdbMl0ubWF0Y2hBbGwgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsUnVsZS5tYXBwaW5nVGl0bGUgPSByZW1vdGVSdWxlTWFwcGluZ1RpdGxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZVJ1bGUubWFwcGluZ1RpdGxlID0gcmVtb3RlUnVsZU1hcHBpbmdUaXRsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpdGxlUmVnZXggPSBuZXcgUmVnRXhwKGxvY2FsUnVsZU1hcHBpbmdUaXRsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxSdWxlLm1hcHBpbmdUaXRsZSA9IGxvY2FsUnVsZS5tYXBwaW5nVGl0bGUgIT0gbnVsbCAmJiBsb2NhbFJ1bGUubWFwcGluZ1RpdGxlICE9IFwiXCIgPyBsb2NhbFJ1bGUubWFwcGluZ1RpdGxlIDogbG9jYWxSdWxlLnRpdGxlLm1hdGNoKHRpdGxlUmVnZXgpWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlUmVnZXggPSBuZXcgUmVnRXhwKHJlbW90ZVJ1bGVNYXBwaW5nVGl0bGUsIFwiZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVSdWxlLm1hcHBpbmdUaXRsZSA9IHJlbW90ZVJ1bGUudGl0bGUubWF0Y2godGl0bGVSZWdleClbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobG9jYWxSdWxlLm1hcHBpbmdUaXRsZSA9PSByZW1vdGVSdWxlLm1hcHBpbmdUaXRsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZVJ1bGUubG9jYWxUaXRsZSA9IGxvY2FsUnVsZS50aXRsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVSdWxlLmlzTWFwcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVSdWxlLm9sZFZlcnNpb24gPSBsb2NhbFJ1bGUudmVyc2lvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGxvY2FsUnVsZS50aXRsZSA9PSByZW1vdGVSdWxlLnRpdGxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZVJ1bGUub2xkVmVyc2lvbiA9IGxvY2FsUnVsZS52ZXJzaW9uO1xuICAgICAgICAgICAgICAgICAgICAvL3JlbW90ZVJ1bGVzW2ldLnJ1bGU9bXlSdWxlc1tqXS5ydWxlO1xuICAgICAgICAgICAgICAgICAgICAvL3JlbW90ZVJ1bGVzW2ldLmRlc2M9bXlSdWxlc1tqXS5kZXNjO1xuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1lcmdlU29ydChhcnIpIHtcbiAgICAgICAgdmFyIGxlbiA9IGFyci5sZW5ndGg7XG4gICAgICAgIGlmIChsZW4gPCAyKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJyO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtaWRkbGUgPSBNYXRoLmZsb29yKGxlbiAvIDIpLFxuICAgICAgICAgICAgbGVmdCA9IGFyci5zbGljZSgwLCBtaWRkbGUpLFxuICAgICAgICAgICAgcmlnaHQgPSBhcnIuc2xpY2UobWlkZGxlKTtcbiAgICAgICAgcmV0dXJuIG1lcmdlKG1lcmdlU29ydChsZWZ0KSwgbWVyZ2VTb3J0KHJpZ2h0KSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWVyZ2UobGVmdCwgcmlnaHQpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICB2YXIgaWdub3JlVXBkYXRlTGlzdCA9IFtdO1xuICAgICAgICB2YXIgaXNUaGlzVmVyc2lvbkxpc3QgPSBbXTtcblxuICAgICAgICB3aGlsZSAobGVmdC5sZW5ndGggPiAwICYmIHJpZ2h0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmIChsZWZ0WzBdLmlzSWdub3JlVXBkYXRlID09IHRydWUgJiYgbGVmdFswXS5vbGRWZXJzaW9uICE9IGxlZnRbMF0udmVyc2lvbikge1xuICAgICAgICAgICAgICAgIGlnbm9yZVVwZGF0ZUxpc3QucHVzaChsZWZ0LnNoaWZ0KCkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyaWdodFswXS5pc0lnbm9yZVVwZGF0ZSA9PSB0cnVlICYmIHJpZ2h0WzBdLm9sZFZlcnNpb24gIT0gcmlnaHRbMF0udmVyc2lvbikge1xuICAgICAgICAgICAgICAgIGlnbm9yZVVwZGF0ZUxpc3QucHVzaChyaWdodC5zaGlmdCgpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGVmdFswXS5vbGRWZXJzaW9uIDwgbGVmdFswXS52ZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobGVmdC5zaGlmdCgpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmlnaHRbMF0ub2xkVmVyc2lvbiA8IHJpZ2h0WzBdLnZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChyaWdodC5zaGlmdCgpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGVmdFswXS5vbGRWZXJzaW9uID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChsZWZ0LnNoaWZ0KCkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyaWdodFswXS5vbGRWZXJzaW9uID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChyaWdodC5zaGlmdCgpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaXNUaGlzVmVyc2lvbkxpc3QucHVzaChsZWZ0LnNoaWZ0KCkpO1xuICAgICAgICAgICAgICAgIGlzVGhpc1ZlcnNpb25MaXN0LnB1c2gocmlnaHQuc2hpZnQoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAoaWdub3JlVXBkYXRlTGlzdC5sZW5ndGgpIHJlc3VsdC5wdXNoKGlnbm9yZVVwZGF0ZUxpc3Quc2hpZnQoKSk7XG5cbiAgICAgICAgd2hpbGUgKGlzVGhpc1ZlcnNpb25MaXN0Lmxlbmd0aCkgcmVzdWx0LnB1c2goaXNUaGlzVmVyc2lvbkxpc3Quc2hpZnQoKSk7XG5cbiAgICAgICAgd2hpbGUgKGxlZnQubGVuZ3RoKVxuICAgICAgICAgICAgcmVzdWx0LnB1c2gobGVmdC5zaGlmdCgpKTtcblxuICAgICAgICB3aGlsZSAocmlnaHQubGVuZ3RoKVxuICAgICAgICAgICAgcmVzdWx0LnB1c2gocmlnaHQuc2hpZnQoKSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICByZW1vdGVSdWxlcyA9IG1lcmdlU29ydChyZW1vdGVSdWxlcyk7XG5cbiAgICB2YXIgc2hvd1J1bGVMaXN0ID0gW107XG4gICAgLy8gc2V0RXJyb3IoSlNPTi5zdHJpbmdpZnkocmVtb3RlUnVsZXMpKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlbW90ZVJ1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBqID0gcmVtb3RlUnVsZXNbaV07XG4gICAgICAgIHZhciBydWxlV2l0aE1hcHBpbmcgPSBnZXRSdWxlSW5SdWxlc1dpdGhNYXBwaW5nKHJlbW90ZVJ1bGVzLCBqKTtcbiAgICAgICAgaWYgKHJ1bGVXaXRoTWFwcGluZyAhPSBudWxsICYmIGdldFJ1bGVJblJ1bGVzV2l0aE1hcHBpbmcobXlSdWxlcywgaikpIGogPSBydWxlV2l0aE1hcHBpbmc7XG4gICAgICAgIHZhciByID0ge307XG4gICAgICAgIGlmIChzZXR0aW5ncy5uZWVkQ2hhbmdlU2hvd1R5cGUgPT0gdHJ1ZSAmJiBqLm9sZFZlcnNpb24gIT0gbnVsbCAmJiBqLm9sZFZlcnNpb24gPj0gai52ZXJzaW9uICYmIHJlbW90ZVJ1bGVzLmxlbmd0aCA+IHNldHRpbmdzLnNob3dGdWxsVGV4dE1heClcbiAgICAgICAgICAgIHIuY29sX3R5cGUgPSBzZXR0aW5ncy5vdmVyTWF4U2hvd1R5cGU7XG4gICAgICAgIGlmICgoc2V0dGluZ3Mubm9JZ25vcmVVcGRhdGUgIT0gdHJ1ZSAmJiBqLmlzSWdub3JlVXBkYXRlID09IHRydWUpICYmIChqLm9sZFZlcnNpb24gPT0gbnVsbCB8fCBqLm9sZFZlcnNpb24gPCBqLnZlcnNpb24pKSB7XG4gICAgICAgICAgICBkZXBvdFJ1bGVzU3RhdHVzLmlnbm9yZU51bSArPSAxO1xuICAgICAgICAgICAgci5kZXNjID0gXCLor6Xop4TliJnlt7Llv73nlaXmnKzmrKHmm7TmlrBcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHIuZGVzYyA9IGRlc2MobXlSdWxlcywgaik7XG4gICAgICAgIH1cbiAgICAgICAgci5kZXNjID0gci5kZXNjICsgKFxuICAgICAgICAgICAgai50aXBzICE9IG51bGwgJiYgai50aXBzICE9IFwiXCIgP1xuICAgICAgICAgICAgICAgIGVudGVyVGV4dCArIFwiVGlwczogXCIgKyBqLnRpcHMgOlxuICAgICAgICAgICAgICAgIFwiXCJcbiAgICAgICAgKTtcbiAgICAgICAgci50aXRsZSA9IGoubWFwcGluZ1RpdGxlICE9IG51bGwgJiYgai5tYXBwaW5nVGl0bGUgIT0gXCJcIiAmJiBqLmlzTWFwcGVkID09IHRydWUgP1xuICAgICAgICAgICAgai5tYXBwaW5nVGl0bGVcbiAgICAgICAgICAgIDogai50aXRsZTtcbiAgICAgICAgci51cmwgPSBqLnZlcnNpb24gPCAwID9cbiAgICAgICAgICAgIGoucnVsZSB8fCBcIlwiXG4gICAgICAgICAgICA6IGlzSW5BcnJheShteVJ1bGVzLCBqKSB8fCBqLmlzTWFwcGVkID09IHRydWUgP1xuICAgICAgICAgICAgICAgIChqLm9sZFZlcnNpb24gIT0gbnVsbCAmJiBqLm9sZFZlcnNpb24gPCBqLnZlcnNpb24gP1xuICAgICAgICAgICAgICAgICAgICAoai5ydWxlIHx8IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgIDogKFwiaGlrZXI6Ly9ob21lQFwiICsgKGoubG9jYWxUaXRsZSAhPSBudWxsICYmIGoubG9jYWxUaXRsZSAhPSBcIlwiID9cbiAgICAgICAgICAgICAgICAgICAgICAgIGoubG9jYWxUaXRsZVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBqLnRpdGxlKSkpXG4gICAgICAgICAgICAgICAgOiAoai5ydWxlIHx8IFwiXCIpO1xuICAgICAgICAvL3IuY29udGVudCA9IGoudXBkYXRlVGV4dDtcbiAgICAgICAgc2hvd1J1bGVMaXN0LnB1c2gocik7XG4gICAgfVxuXG4gICAgaWYgKHNldHRpbmdzLm5vUnVsZXNOdW0gIT0gdHJ1ZSAmJiBzZXR0aW5ncy5oaWRlQWxsICE9IHRydWUpXG4gICAgICAgIGQucHVzaCh7XG4gICAgICAgICAgICB0aXRsZTogXCI8Yj7or6Xku5PlupPlhbHmnIkg4oCY4oCYXCIgKyByZW1vdGVSdWxlcy5sZW5ndGggKyBcIuKAmeKAmSDmnaHop4TliJk8L2I+XCIgK1xuICAgICAgICAgICAgICAgIFwiIChcIlxuICAgICAgICAgICAgICAgICsgXCLmm7TmlrA64oCY4oCYXCIgKyBkZXBvdFJ1bGVzU3RhdHVzLnVwZGF0ZU51bVxuICAgICAgICAgICAgICAgICsgXCLigJnigJkgIOacquWvvOWFpTrigJjigJhcIiArIGRlcG90UnVsZXNTdGF0dXMubm9JbXBvcnROdW1cbiAgICAgICAgICAgICAgICArIFwi4oCZ4oCZICDlv73nlaU64oCY4oCYXCIgKyBkZXBvdFJ1bGVzU3RhdHVzLmlnbm9yZU51bVxuICAgICAgICAgICAgICAgICsgXCLigJnigJkpXCIsXG4gICAgICAgICAgICBjb2xfdHlwZTogXCJ0ZXh0XzFcIixcbiAgICAgICAgfSk7XG5cbiAgICB3aGlsZSAoc2hvd1J1bGVMaXN0Lmxlbmd0aCkgZC5wdXNoKHNob3dSdWxlTGlzdC5zaGlmdCgpKVxufVxuXG5yZXMuZGF0YSA9IGQ7XG5zZXRIb21lUmVzdWx0KHJlcyk7Iiwic2VhcmNoX3VybCI6Imhpa2VyOi8vaG9tZSMqKiNmeXBhZ2UiLCJ0aXRsZUNvbG9yIjoiI2ZmZjIwYzAwIiwiZ3JvdXAiOiLku5PlupPpm4blkIgiLCJzZWFyY2hGaW5kIjoianM6XG5cbi8qKlxuICAqIOWIhuexu+S7k+W6k+imgeeUqOaQnOe0ouWKn+iDve+8jFxuICAqIOivpeS7k+W6k+euoeeQhuWRmOW/hemhu+iHquihjOWcqOS4i+aWuXNldHRpbmdzLmF1dGhvckxpc3TphY3nva7liIbnsbvpk77mjqVcbiAgKi9cblxudmFyIHJlcyA9IHt9O1xudmFyIGQgPSBbXTtcbnZhciBrZXkgPSBnZXRVcmwoKS5zcGxpdChcIiNcIilbMV07XG4vLyBrZXkgPSBcIuW9seinhlwiO1xudmFyIHBhZ2UgPSAxO1xudHJ5IHsgXG4gICBwYWdlID0gcGFyc2VJbnQoZ2V0VXJsKCkuc3BsaXQoXCIjXCIpWzJdKTtcbn1cbmNhdGNoIChlKSB7IH1cbnZhciBwYWdlU2l6ZSA9IHBhZ2UgKiA1O1xuLypkLnB1c2goe1xuICAgIHRpdGxlOiBcInBhZ2U6IFwiICsgcGFnZSxcbiAgICBkZXNjOiBcInBhZ2VTaXplOiBcIisgcGFnZVNpemUgKyBcIiBwYWdlQWRkOiBcIisgcGFnZUFkZFxufSk7Ki9cblxuaWYgKGtleSAhPSBudWxsICYmIGtleSAhPSBcIlwiKSB7XG4gICAgdmFyIHJlZ0V4cCA9IG5ldyBSZWdFeHAoXCJbXl0qXCIra2V5K1wiW15dKlwiKTtcbiAgICAvLyDku5PlupPkuKrmgKforr7nva5cbiAgICB2YXIgc2V0dGluZ3MgPSB7XG4gICAgICAgIC8vIOWcqOi/memHjOa3u+WKoOS7k+W6k+mFjee9ru+8jOWPr+S9v+acrOWcsOa3u+WKoOeahOS7k+W6k+e9rumhtlxuICAgICAgICBhdXRob3JMaXN0OiBbXG5cIummmembheaDhUBAYXBpVHlwZT0nMCdAQGZ1bGxVcmw9J2h0dHBzOi8vZ2l0ZWUuY29tL2x6azIzNTU5L3J1bGVob3VzZS9yYXcvbWFzdGVyL21pYW54dC5qc29uJ1wiLFxuXCLpppnpm4Xmg4VAQGFwaVR5cGU9JzAnQEBmdWxsVXJsPSdodHRwczovL2dpdGVlLmNvbS9semsyMzU1OS9ydWxlaG91c2UvcmF3L21hc3Rlci9ub21pYW54dC5qc29uJ1wiLFxuXCLpppnpm4Xmg4VAQGFwaVR5cGU9JzAnQEBmdWxsVXJsPSdodHRwczovL2dpdGVlLmNvbS9semsyMzU1OS9ydWxlaG91c2UvcmF3L21hc3Rlci96eXcuanNvbidcIixcblwi6aaZ6ZuF5oOFQEBhcGlUeXBlPScwJ0BAZnVsbFVybD0naHR0cHM6Ly9naXRlZS5jb20vbHprMjM1NTkvcnVsZWhvdXNlL3Jhdy9tYXN0ZXIvc2hpdGluZy5qc29uJ1wiLFxuXCLpppnpm4Xmg4VAQGFwaVR5cGU9JzAnQEBmdWxsVXJsPSdodHRwczovL2dpdGVlLmNvbS9semsyMzU1OS9ydWxlaG91c2UvcmF3L21hc3Rlci9vdGhlci5qc29uJ1wiXG5cbl0sXG4gICAgICAgIC8vIOWcqOi/memHjOa3u+WKoOS7k+W6k+mFjee9ru+8jOWPr+S9v+acrOWcsOa3u+WKoOeahOS7k+W6k+e9ruW6lVxuICAgICAgICBhdXRob3JMaXN0Qm90dG9tOiBbXG4gICAgICAgICAgIC8vIFwiW+S+i+WtkF3nva7lupXmnKzlnLDku5PlupNAQFJlYm9ybl8wQEBIaWtlclJ1bGVzUHJpdmFjeVwiXG4gICAgICAgIF0sXG4gICAgfTtcblxuICAgIC8vIOaQnOe0ouino+aekOaAnei3r++8mlxuICAgIC8vIOiOt+WPluaQnOe0oumTvuaOpeS4reeahCoq77yM54S25ZCO5b6q546v6YGN5Y6G5q+P5LiA5Liq5LuT5bqT55qE6KeE5YiZ77yM5q2j5YiZ5qih57OK5Yy56YWN5Yiw5LiN5Li656m655qE5bCx5Yqg5YWl5pCc57Si57uT5p6cXG4gICAgdmFyIHJlbW90ZUF1dGhvckxpc3QgPSBbXTtcbiAgICB0cnkge1xuICAgICAgICBldmFsKFwicmVtb3RlQXV0aG9yTGlzdD1cIiArIGZldGNoKHNldHRpbmdzLnJlbW90ZUF1dGhvckxpc3RVcmwsIHt9KSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgIH1cbiAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShzZXR0aW5ncy5hdXRob3JMaXN0LCByZW1vdGVBdXRob3JMaXN0KTtcbiAgICBpZiAoc2V0dGluZ3MuYXV0aG9yTGlzdEJvdHRvbS5sZW5ndGggIT0gMCkgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoc2V0dGluZ3MuYXV0aG9yTGlzdCwgc2V0dGluZ3MuYXV0aG9yTGlzdEJvdHRvbSk7XG5cbiAgICAvLyDnqbrpl7TmjaLml7bpl7QsIG5eMi0+Mm7vvJ/omb3nhLZBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseeWPr+iDveS5n+aYr+S4gOS4qm7vvJ/vvIjkvZPpqozkuIrmsqHmhJ/op4nlv6vlpJrlsJHvvIzmr5Xnq5/pgqPkuKpmZXRjaOWkquWkmuS6hi4uLu+8iVxuICAgIHZhciBtUmVtb3RlUnVsZXMgPSBbXTtcbiAgICAvLyAxLuaLv+WIsOS7k+W6k1xuICAgIGZvciAodmFyIGkgPSAocGFnZS0xKSAqIDU7IGkgPCBzZXR0aW5ncy5hdXRob3JMaXN0Lmxlbmd0aCAmJiBpIDwgcGFnZVNpemU7IGkrKykge1xuICAgICAgIC8vIGlmIChpIDwgcGFnZVNpemUpIGJyZWFrO1xuICAgICAgICB2YXIgYXV0aG9yTGlzdCA9IHNldHRpbmdzLmF1dGhvckxpc3RbaV07XG4gICAgICAgIHZhciBhdXRob3JBbmRPd25lckFuZFByb2plY3QgPSBhdXRob3JMaXN0LnNwbGl0KFwiQEBcIik7XG4gICAgICAgIHZhciBhdXRob3IgPSBhdXRob3JBbmRPd25lckFuZFByb2plY3RbMF07XG4gICAgICAgIHZhciByZW1vdGVVcmwgPSBcIlwiO1xuXG4gICAgICAgIHZhciBhcGlUeXBlID0gXCIxXCI7ICAvLyAwIOS4uuaWh+S7tuebtOmTvu+8jDEg5Li656CB5LqRQVBJXG4gICAgICAgIHZhciBhcGlUeXBlSlMgPSBhdXRob3JMaXN0Lm1hdGNoKC9hcGlUeXBlPS5bXFxzXFxTXSo/Jy8pICsgXCI7XCI7XG4gICAgICAgIGV2YWwoYXBpVHlwZUpTKTtcbiAgICAgICAgaWYgKGFwaVR5cGUgPT0gbnVsbCkgYXBpVHlwZSA9IFwiMVwiO1xuXG4gICAgICAgIGlmIChhcGlUeXBlID09IFwiMFwiKSB7XG4gICAgICAgICAgICB2YXIgZnVsbFVybCA9IFwiXCI7XG4gICAgICAgICAgICB2YXIgZnVsbFVybEpTID0gYXV0aG9yTGlzdC5tYXRjaCgvZnVsbFVybD0uW1xcc1xcU10qPycvKSArIFwiO1wiO1xuICAgICAgICAgICAgZXZhbChmdWxsVXJsSlMpO1xuICAgICAgICAgICAgcmVtb3RlVXJsID0gZnVsbFVybDtcbiAgICAgICAgfSBlbHNlIGlmIChhcGlUeXBlID09IFwiMVwiKSB7XG4gICAgICAgICAgICB2YXIgcmVtb3RlQXBpSG9tZSA9IFwiaHR0cHM6Ly9naXRlZS5jb20vYXBpL3Y1L3JlcG9zL1wiO1xuICAgICAgICAgICAgdmFyIG93bmVyID0gYXV0aG9yQW5kT3duZXJBbmRQcm9qZWN0WzFdOyAgIC8vIOS7k+W6k+aLpeacieiAhVxuICAgICAgICAgICAgdmFyIHJlcG8gPSBhdXRob3JBbmRPd25lckFuZFByb2plY3RbMl07IC8vIOS7k+W6k+WQjVxuICAgICAgICAgICAgdmFyIHJlbW90ZUZpbGVuYW1lID0gbnVsbDsgLy8g5paH5Lu25ZCNXG4gICAgICAgICAgICB2YXIgcGF0aCA9IHJlbW90ZUZpbGVuYW1lOyAgLy8g5Zyo5LuT5bqT5Lit5paH5Lu255qE6Lev5b6EXG4gICAgICAgICAgICB2YXIgYWNjZXNzX3Rva2VuID0gbnVsbDsgIC8vIOeUqOaIt+aOiOadg+egge+8jOWcqOeggeS6kVwi6K6+572u4oCUPuWuieWFqOiuvuWumi0+5Liq5Lq66K6/6Zeu5Luk54mMXCLkuK3lj6/ku6XnlJ/miJBcbiAgICAgICAgICAgIHZhciB0b2tlbkpTID0gYXV0aG9yTGlzdC5tYXRjaCgvYWNjZXNzX3Rva2VuPS5bXFxzXFxTXSo/Jy8pICsgXCI7XCI7XG4gICAgICAgICAgICBldmFsKHRva2VuSlMpO1xuICAgICAgICAgICAgLy8gc2V0RXJyb3IoYWNjZXNzX3Rva2VuPT1udWxsKTtcbiAgICAgICAgICAgIHZhciByZW1vdGVGaWxlbmFtZUpTID0gYXV0aG9yTGlzdC5tYXRjaCgvcmVtb3RlRmlsZW5hbWU9LltcXHNcXFNdKj8nLykgKyBcIjtcIjtcbiAgICAgICAgICAgIGV2YWwocmVtb3RlRmlsZW5hbWVKUyk7XG4gICAgICAgICAgICBpZiAocmVtb3RlRmlsZW5hbWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlbW90ZUZpbGVuYW1lID0gXCJ1cGRhdGUuanNvblwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGF0aCA9IHJlbW90ZUZpbGVuYW1lO1xuICAgICAgICAgICAgLy8gc2V0RXJyb3IocmVtb3RlRmlsZW5hbWUpXG4gICAgICAgICAgICAvLyBBUEnpk77mjqXlj4LogIPvvJpodHRwczovL2dpdGVlLmNvbS9hcGkvdjUvcmVwb3Mve3tvd25lcn19L3t7cmVwb319L2NvbnRlbnRzL3t7cGF0aH19P2FjY2Vzc190b2tlbj0qKioqXG4gICAgICAgICAgICByZW1vdGVVcmwgPSByZW1vdGVBcGlIb21lICsgb3duZXIgKyBcIi9cIiArIHJlcG8gKyBcIi9jb250ZW50cy9cIiArIHBhdGg7XG4gICAgICAgICAgICBpZiAoYWNjZXNzX3Rva2VuICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZW1vdGVVcmwgPSByZW1vdGVVcmwgKyBcIj9hY2Nlc3NfdG9rZW49XCIgKyBhY2Nlc3NfdG9rZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBzZXRFcnJvcihyZW1vdGVVcmwpO1xuICAgICAgICAgICAgLy8gdmFyIHJlbW90ZUhvbWUgPSBcImh0dHBzOi8vZ2l0ZWUuY29tL1wiICsgb3duZXIgKyBcIi9cIiArIHJlcG8gKyBcIi9ibG9iL21hc3Rlci91cGRhdGUuanNvblwiO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdmFyIHJlbW90ZVVybCA9IHJlbW90ZUFwaUhvbWUgKyBlbmNvZGVVUklDb21wb25lbnQoYXV0aG9yKSArIFwiL1wiICsgcmVtb3RlRmlsZW5hbWU7XG4gICAgICAgIHZhciByZW1vdGVTb3VyY2UgPSBmZXRjaChyZW1vdGVVcmwsIHt9KTtcbiAgICAgICAgLy8gc2V0RXJyb3IocmVtb3RlVXJsKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGV2YWwoXCJyZW1vdGVTb3VyY2U9XCIgKyByZW1vdGVTb3VyY2UpO1xuICAgICAgICAgICAgdmFyIHJlbW90ZVJ1bGVzID0gcmVtb3RlU291cmNlO1xuICAgICAgICAgICAgaWYgKGFwaVR5cGUgPT0gXCIwXCIpIHtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXBpVHlwZSA9PSBcIjFcIikge1xuICAgICAgICAgICAgICAgIGV2YWwoXCJyZW1vdGVSdWxlcz1cIiArIGJhc2U2NERlY29kZShyZW1vdGVTb3VyY2UuY29udGVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlbW90ZVJ1bGVzLmRhdGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KG1SZW1vdGVSdWxlcywgcmVtb3RlUnVsZXMuZGF0YSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KG1SZW1vdGVSdWxlcywgcmVtb3RlU291cmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qaWYobVJlbW90ZVJ1bGVzLmxlbmd0aCA8IHBhZ2UgKiA4KSB7XG4gICAgICAgICAgICAgICAgIHBhZ2UrKztcbiAgICAgICAgICAgICAgICAgcGFnZVNpemUgPSBwYWdlICogNTtcbiAgICAgICAgICAgICAgICAgcGFnZUFkZCsrO1xuICAgICAgICAgICAgICAgICBwdXRWYXIoe2tleTogJ3BhZ2VBZGQnLCB2YWx1ZTogcGFnZUFkZH0pO1xuICAgICAgICAgICAgfSovXG4gICAgICAgIH1jYXRjaCAoZSkge1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIDIu5ou/5Yiw5Y2V5Liq5LuT5bqT55qE6KeE5YiZ5YiX6KGoXG4gICAgaWYgKG1SZW1vdGVSdWxlcy5sZW5ndGggIT0gMCkge1xuICAgICAgICAvLyDmjaLkuKrplKTlrZDnmoTkuozliIbms5XvvIzkuIDlrpropoHpgY3ljobmiYDmnInmlbDmja7nmoTvvIzov5nmoLfpobblpJrmmK9PKDEvMiBuKe+8jOW/veeVpeW4uOaVsOi/mOaYr08obinvvIznoa7lrp7kvJrlv6vkuIDkuKLkuKLvvIznqbrpl7TmjaLml7bpl7TnmoTnu5PmnpxcbiAgICAgICAgdmFyIGxlZnQgPSAwO1xuICAgICAgICB2YXIgcmlnaHQgPSBtUmVtb3RlUnVsZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgd2hpbGUgKGxlZnQgPD0gcmlnaHQpIHtcbiAgICAgICAgICAgIHZhciByZW1vdGVSdWxlTGVmdCA9IG1SZW1vdGVSdWxlc1tsZWZ0XTtcbiAgICAgICAgICAgIHZhciByZW1vdGVSdWxlUmlnaHQgPSBtUmVtb3RlUnVsZXNbcmlnaHRdO1xuICAgICAgICAgICAgaWYgKHJlZ0V4cC50ZXN0KHJlbW90ZVJ1bGVMZWZ0LnRpdGxlKSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHJlbW90ZVJ1bGVMZWZ0LnRpdGxlLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiaHR0cHM6Ly9iYWlkdS5jb20jXCIgKyByZW1vdGVSdWxlTGVmdC5ydWxlLFxuICAgICAgICAgICAgICAgICAgICBkZXNjOiByZW1vdGVSdWxlTGVmdC5hdXRob3IsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwi5LqR56uv54mI5pys77yaXCIgKyByZW1vdGVSdWxlTGVmdC52ZXJzaW9uXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVnRXhwLnRlc3QocmVtb3RlUnVsZVJpZ2h0LnRpdGxlKSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHJlbW90ZVJ1bGVSaWdodC50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcImh0dHBzOi8vYmFpZHUuY29tI1wiICsgcmVtb3RlUnVsZVJpZ2h0LnJ1bGUsXG4gICAgICAgICAgICAgICAgICAgIGRlc2M6IHJlbW90ZVJ1bGVSaWdodC5hdXRob3IsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwi5LqR56uv54mI5pys77yaXCIgKyByZW1vdGVSdWxlUmlnaHQudmVyc2lvblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGVmdCsrO1xuICAgICAgICAgICAgcmlnaHQtLTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuaWYoKHBhZ2UpICogNSA8IHNldHRpbmdzLmF1dGhvckxpc3QubGVuZ3RoKSB7XG4gICAgaWYoZC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgICB0aXRsZTogXCLmsqHliqDovb3liLDkuJzopb/vvJ/kuI3opoHntKfvvIzkuIrmu5Hlj6/og73mnInmg4rllpzlk6bvvIFcIixcbiAgICAgICAgICAgICBkZXNjOiBcIlBTOiDlj6ropoHmsqHmmL7npLrmnIDlkI7kuIDpobXlsLHov5jmnInluIzmnJvvvIFcIlxuICAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgIGQucHVzaCh7XG4gICAgICAgICAgICAgdGl0bGU6IFwi5pyq5Yiw5pyA5ZCO5LiA6aG177yM6K+357un57ut5LiK5ruR5Yqg6L295pu05aSa44CCXCJcbiAgICAgICAgIH0pO1xuICAgIH1cbn0gZWxzZSB7XG4gICAgIGQucHVzaCh7XG4gICAgICAgICB0aXRsZTogXCLlt7LliLDmnIDlkI7kuIDpobVcIlxuICAgICB9KTtcbn1cblxuLy8gc2V0RXJyb3IoSlNPTi5zdHJpbmdpZnkoZCkpO1xucmVzLmRhdGEgPSBkO1xuc2V0U2VhcmNoUmVzdWx0KHJlcyk7IiwiZGV0YWlsX2NvbF90eXBlIjoibW92aWVfMSIsImRldGFpbF9maW5kX3J1bGUiOiIiLCJzZGV0YWlsX2NvbF90eXBlIjoidGV4dF9jZW50ZXJfMSIsInNkZXRhaWxfZmluZF9ydWxlIjoianM6XG52YXIgcmVzID0ge307XG52YXIgZCA9IFtdO1xuXG52YXIgcnVsZSA9IGdldFVybCgpLnNwbGl0KFwiI1wiKVsxXTtcbmlmKHJ1bGUgIT0gbnVsbCAmJiBydWxlICE9IFwiXCIpIHtcbiAgICAgZC5wdXNoKHtcbiAgICAgICAgICB0aXRsZTogXCLnq4vljbPlr7zlhaXop4TliJlcIixcbiAgICAgICAgICB1cmw6IHJ1bGVcbiAgICAgfSk7XG59XG5cbnJlcy5kYXRhID0gZDtcbnNldEhvbWVSZXN1bHQocmVzKTsifQ=="
},{
    "title":"[模板]",
    "author":"香雅情",
    "version":1,
    "updateText":"暂无更新日志",
    "tips":"",
    "rule":"rule://"}

]
}